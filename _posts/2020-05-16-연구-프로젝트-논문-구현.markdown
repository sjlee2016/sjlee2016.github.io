---
layout: post
title:  "연구 프로젝트 논문 구현"
date:   2020-05-16 20:14:49 +0900
categories: research machine-learning
---
Machine Learning 을 사용한 IOT DDOS attack 구분 시스템 
----

논문 구현을 위해 필요한 것들 
====

제가 선택한 논문인 [Machine Learning DDoS Detection for consumer Internet Of Things Devices](https://ieeexplore.ieee.org/document/8424629) 에서는 저자가 직접 데이터를 수집하였습니다. 저자가 논문을 쓸 당시에는 IoT DoS 트래픽 데이터는 퍼블릭 데이터가 없어 직접 네트워크를 구축하고 트래픽을 만들어서 어택하고 데이터 수집해야 했습니다. 
다행히 현재는 IOT Dos 트래픽 데이터를 구할 수 있어서 라즈베리 파이등을 사용해 네트워크를 구축하는 단계를 건너 뛸 수 있었습니다.  제가 사용한 데이터는 [ieee-data port 사이트](https://ieee-dataport.org/open-access/iot-network-intrusion-dataset) 에서 다운로드를 하였습니다. 해당 데이터는  스마트 홈 디바이스인 SKT NUGU (NU 100) 와 EZVIZ Wi-Fi Camera (C2C Mini O Plus 1080P) 를 사용하여 수집된 42개의 pcap file입니다. 
dos-synflooding,scan-hostport, scan-portos mirai-udpflooding, mirai-ackflooding mirai-httpflooding, mirai-hostbruteforce 등 다양한 어택들의 pcap 파일이 존재했지만  
ML 모델을 구축하기 위해 저는 benign-dec.pcap 와 mirai-httpflooding-1-dec.pcap 를 사용하였습니다. 

| PCAP Filename | DATE | # of Normal Packet | # of Attack Packet
| ------------- |:-------------:| -----:|
| benign-dec | 5/20/2019 | 137396 | 0
| mirai-httpflooding-1-dec |  8/1/2019 | 13764 | 764

이와 같이 노멀 네트워크 정보를 가진 benign-dec.pcap은 attack packet을 0
benign-dec.pcap: benign-only traffic

mirai-httpflooding-n(1~4)-dec.pcap

convert pcap to csv file 

13ZY_0SNWrQXtezuR1g29kTGOfz2_adgw
1Phl_o0tXYZ0A-_cdILOm32-rMB-w1B66

var url = "https://drive.google.com/file/d/1AbIKFvp_G_Lxbzd2D6e47x1sT5ZESbSG/view?usp=sharing"
function getIdFromUrl(url) { return url.match(/[-\w]{25,}/); }
getIdFromUrl(url)

```
tshark -r benign-dec.pcap  -T fields  -e _ws.col.Protocol -e frame.time_delta  -e frame.len -e tcp.flags  -e tcp.ack -e tcp.len -E header=y -E quote=d -E separator=, -E occurrence=f > benign.csv

tshark -r mirai-httpflooding-1-dec.pcap -Y "ip.addr==210.89.164.90" -T fields  -e _ws.col.Protocol -e frame.time_delta  -e frame.len -e tcp.flags  -e tcp.ack -e tcp.len -E header=y -E quote=d -E separator=, -E occurrence=f > attack.csv
```
3 feature extraction 
duration 
number of packets
protocol