---
layout: post
title:  "연구 프로젝트 논문 분석"
date:   2020-04-20 14:33:49 +0900
categories: research machine-learning
---
Machine Learning DDOS Detection for consumer Internet Of Things Devices 논문 해석
----

해당 블로그 포스트는 [Machine Learning DDOS Detection for consumer Internet Of Things Devices](https://ieeexplore.ieee.org/document/8424629) 논문의 이해를 돕고 분석을 하기 위해 작성되었습니다. 



I, II  논문을 읽기 전에 알아야 할 배경 지식
----
2020년, 우리는 이제 일상생활중에 손쉽게 IOT 기기들을 사용하며 접할수 있습니다. 

IOT는 무엇일까요?
====

Internet Of Things, 즉 사물 인터넷은 사물에 센서를 부착하여 실시간 데이터를 인터넷으로 주고 받는 기술이나 환경을 말합니다. IoT가 Machine to Machine이라고도 불리는 이유는 사람이 중간에 개입하지 않고 기기들이 인터넷을 통해 알아서 정보를 수집하고 일을 처리하며 서로 통신을 하기 때문입니다. 사용자의 음성 명령어를 분석하고 집 안의 IoT 기기를 조작할 수 있는 Smart home device인 기가지니나 Google Home을 예시로 들 수 있습니다. 또한 Apple watch 처럼 사용자가 몸에 착용할 수 있는 IOT device 는 사용자의 걸음 수나 칼로리 소모량, 운동 거리 등을 체크하여 운동성을 분석하고 올바른 운동법까지 조언해줍니다. 

논문에 의하면 2017년 사물 인터넷 시장은 매년 증폭하여 2017년엔 80억  이였던 IoT 기기의 숫자가 2020년에는 무려 200억이 되었다고 합니다.
저자는 IOT 제품은  매년 유형이 다양해지고 사용수도 늘고있지만 보안은 아직 매우 취약하다는 문제점을 지적합니다. 방화벽의 부제, 오래된 리눅스 펌웨어, 암호화 되지 않은 민감한 데이터 노출과 같은 보안 문제로 IOT는 보안 위협에 노출되어 있습니다. 

보안이 허술한 사물 인터넷 기기는 어떠한 결과를 낳을까요? 
====

2016년 10월, 해커는 IOT 기기에 악성 코드를 설치하여 '좀비'로 만들어 네트워크상에서 해커가 마음대로 제어할 수 있게하여 미라이 봇넷(Mirai Bonet)을 만들었습니다. 이를 통해 도메인 주소 조회 서비스 제공업체인 Dyn을 대규모 디도스 공격하였고 업체를 사용하고 있던 넷플릭스, 트위터, 뉴욕 타임즈를 포함한 여러 사이트가 마비되었습니다. 

디도스 공격이란 무엇일까요? 
=====

DoS(Denial of Service) 공격은 웹 사이트 또는 애플리케이션과 같은 대상 시스템의 가용성과 합법적인 최종 사용자에게 악영향을 미치려는 악의적인 시도입니다. 일반적으로 공격자는 대량의 패킷 또는 요청을 생성하여 궁극적으로 대상 시스템을 마비시킵니다. DDoS(Distributed Denial of Service) 는 수많은 컴퓨터에 악성코드를 심어 좀비 PC로 만들어 해커에 의해 원경 조종을 당하여 특정 웹사이트에 동시 접속하게 되고,이로 인해 트래픽 과부하가 일어나는 것 입니다. 서버는 허용할 수 있는 초당 트랙픽 양이 정해져 있는데 수많은 컴퓨터가 한번에 패킷을 집중적으로 보내게 되면 서버가 버티지 못하고 마비가 되는 것입니다. 4차 산업혁명 시대에서 핵심기술로 꼽히고 있는 IoT가 사이버 범죄자들의 공격무기로도 활용 될 수도 있다는 뜻입니다. 

머신러닝을 통한 IoT 기기 DDOS공격 검출 
----

Mirai Bonet 의 코드 2017년 현재 오픈소스가 되어 
IoT 기기는 많은 위험에 노출되어 있습니다. 그러하여 저자는 이 논문을 통해 해당 문제점의 해결책을 제안합니다. Data collection , feature extraction, binary classification 즉 데이터를 모으고, 특징을 추출하는 머신러닝 파이프라인을 만들어 99%의 성공률로 정상적인 트래픽인지 DDOS 공격인지 구분할 수 있다고 주장합니다. 그리하여 연구의 목표는 smart home LAN 에서 발생한 DoS 공격을 탐지하고 막는 것 입니다.

A. IoT 기기의 데이터 트래픽의 특징
====
이미 오래전부터 네트워크 침입 탐지 시스템(Network intrusion detection systems(NIDS))은 존재하였습니다. 하지만 이는 IoT 네트워크를 특정 대상으로 하는 시스템은 아니였기에 IoT 트래픽의 특징을 사용하여 구분하는 새로운 시스템이 필요합니다. 논문에서는 IoT 트래픽에 대해 가설을 새웁니다. 

저자의 가설에 의하면 IoT 트래픽은 아래와 같은 특징을 가집니다. 
1. 노트북과 스마트폰은 인터넷 브라우징에 의해 많은 통신의 극점(end point)를 가지는 반면,  IoT 기기는 비교적 제한적인 end point를 가진다.
2. 비-IoT 트래픽에 비해 고정된 트래픽 상태들을 가진다. 예를 들어, 스마트 전구는 켜기, 끄기, Wifi 와 연결중인 세가지 상태만을 가지며 이는 각자 고유한 네트워크 트래픽 패턴을 가진다.

B. 네트워크 미들박스의 제한 
==== 

이 머신러닝 파이프라인은 IoT 기기의 네트워크 트래픽을 기록하기 위해 네트워크 미들박스로 라우터를 사용합니다. 네트워크의 미들박스란 특정 지 능적 기능을 가진 네트워크의 중간자로서 LAN 네트워크에서 사용자 IoT 기기간의 트래픽을 검사, 저장, 보관 및 차단할 수 있습니다. 따라서 LAN의 와이파이 장치 또는 장치에서 인터넷으로의 모든 트래픽은 미들 박스를 거쳐야 합니다.

이러한 미들 박스는 메모리와 프로세싱 파워의 제한이 있어 DDOS 공격 탐지 알고리즘에 제약 조건 부여합니다. 

1. Lightweight Features
   
   라우터는 높은 대역폭(주어진 시간동안 네트워크 연결을 통해 흐를수 있는 최대 비트수) 트래픽을 처리 할 수 있어야한다.  그러므로 생성 되는 feature detection에 사용되는 모든 특징은 경량화되어야 한다.

2. Protocol Agnostic Features
   
   라우터는 다양한 프로토콜을 사용한 패킷을 처리해야 한다. 따라서 탐지 알고리즘은 모든 프로토콜에서 공통으로 나타나는 패킷 특성을 사용해야한다.

3. Low Memory Implementation
   
   라우터의 메모리는 매우 제한적이다. 메모리를 캐싱하는 것 또한 알고리즘에 지연 시간을 더하기 때문에 적절하지 않다. 그러하기 때문에 알고리즘은 단시간 동안의 정보를 저장해야 함


